<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnam Map 34 Provinces - Demo & Documentation</title>
    <meta name="description"
        content="B·∫£n ƒë·ªì Vi·ªát Nam v·ªõi 34 t·ªânh/th√†nh ph·ªë m·ªõi theo Ngh·ªã quy·∫øt 60-NQ/TW - Documentation & Live Demo">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- Prism for code highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>

    <!-- Highcharts -->
    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/drilldown.js"></script>

    <style>
        :root {
            --primary: #0ea5e9;
            --primary-dark: #0284c7;
            --accent: #22c55e;
            --bg-dark: #0f172a;
            --bg-card: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
            --text: #e2e8f0;
            --text-muted: #94a3b8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #0f172a 100%);
            min-height: 100vh;
            color: var(--text);
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 100;
            padding: 0 2rem;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
        }

        .logo {
            font-weight: 700;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.875rem;
            transition: color 0.2s;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--primary);
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
        }

        /* Main Layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 80px 2rem 2rem;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 4rem 0;
        }

        .badge-group {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-primary {
            background: var(--primary);
            color: white;
        }

        .badge-accent {
            background: rgba(34, 197, 94, 0.2);
            color: var(--accent);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, #fff, var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.25rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s;
            font-size: 0.875rem;
            border: none;
            cursor: pointer;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-outline {
            border: 1px solid var(--border);
            color: var(--text);
            background: transparent;
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        /* Sections */
        section {
            margin-bottom: 4rem;
        }

        section h2 {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        section h3 {
            font-size: 1.25rem;
            margin: 2rem 0 1rem;
            color: var(--text);
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        /* Grid */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        @media (max-width: 1024px) {

            .grid-2,
            .grid-3,
            .grid-4 {
                grid-template-columns: 1fr;
            }
        }

        /* Map Demo */
        .demo-section {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
        }

        @media (max-width: 1024px) {
            .demo-section {
                grid-template-columns: 1fr;
            }
        }

        .map-container {
            position: relative;
        }

        #map {
            height: 550px;
            border-radius: 0.5rem;
        }

        .map-controls {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .breadcrumb {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .breadcrumb span {
            cursor: pointer;
        }

        .breadcrumb span:hover {
            color: var(--primary);
        }

        .breadcrumb .current {
            color: var(--primary);
            font-weight: 600;
        }

        /* Province Info */
        .province-info {
            display: none;
        }

        .province-info.active {
            display: block;
        }

        .province-name {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.875rem;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-row span:first-child {
            color: var(--text-muted);
        }

        .stat-row span:last-child {
            font-weight: 600;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            text-align: center;
            padding: 1.5rem;
            background: rgba(14, 165, 233, 0.1);
            border-radius: 0.75rem;
            border: 1px solid rgba(14, 165, 233, 0.2);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Code Blocks */
        pre[class*="language-"] {
            border-radius: 0.5rem;
            margin: 1rem 0;
            font-size: 0.875rem;
        }

        code:not([class*="language-"]) {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
        }

        /* Install Command */
        .install-command {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        .install-command button {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.25rem;
        }

        .install-command button:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--primary);
        }

        /* Feature Cards */
        .feature-card {
            padding: 1.5rem;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .feature-card h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* API Reference */
        .api-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }

        .api-table th,
        .api-table td {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .api-table th {
            color: var(--text-muted);
            font-weight: 500;
        }

        .api-table code {
            color: var(--primary);
        }

        /* Loading */
        .loading-overlay {
            position: absolute;
            inset: 0;
            background: rgba(15, 23, 42, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            z-index: 10;
        }

        .loading-overlay.active {
            display: flex;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 3rem 2rem;
            border-top: 1px solid var(--border);
            margin-top: 4rem;
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0.5rem;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.875rem;
            border-bottom: 2px solid transparent;
            margin-bottom: -1px;
        }

        .tab:hover {
            color: var(--text);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-content">
            <div class="logo">üáªüá≥ Vietnam Map 34</div>
            <div class="nav-links">
                <a href="#demo" class="active">Demo</a>
                <a href="#install">Installation</a>
                <a href="#api">API</a>
                <a href="docs/vanilla.html">Vanilla JS</a>
                <a href="docs/reactjs.html">React</a>
                <a href="docs/vuejs.html">Vue</a>
                <a href="docs/angular.html">Angular</a>
                <a href="docs/provinces.html">34 Provinces</a>
            </div>
            <div class="nav-buttons">
                <a href="https://github.com/xdev-asia-labs/vietnam-map-34-provinces" class="btn btn-outline"
                    target="_blank">
                    GitHub
                </a>
                <a href="https://www.npmjs.com/package/@xdev-asia/vietnam-map-34-provinces" class="btn btn-primary"
                    target="_blank">
                    npm
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero -->
        <section class="hero">
            <div class="badge-group">
                <span class="badge badge-primary">v1.0.0</span>
                <span class="badge badge-accent">Ngh·ªã quy·∫øt 60-NQ/TW</span>
            </div>
            <h1>Vietnam Map 34 Provinces</h1>
            <p class="subtitle">
                Interactive map component v·ªõi 34 t·ªânh/th√†nh ph·ªë m·ªõi theo c·∫•u tr√∫c h√†nh ch√≠nh 2025.
                Drilldown ƒë·∫øn 11,163 x√£/ph∆∞·ªùng.
            </p>
            <div class="btn-group">
                <a href="#demo" class="btn btn-primary">View Demo</a>
                <a href="#install" class="btn btn-outline">Get Started</a>
            </div>
        </section>

        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">34</div>
                <div class="stat-label">T·ªânh/TP m·ªõi</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">23</div>
                <div class="stat-label">ƒê√£ h·ª£p nh·∫•t</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">11</div>
                <div class="stat-label">Gi·ªØ nguy√™n</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">11,163</div>
                <div class="stat-label">X√£/Ph∆∞·ªùng</div>
            </div>
        </div>

        <!-- Demo -->
        <section id="demo">
            <h2>üó∫Ô∏è Live Demo</h2>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">Click v√†o t·ªânh ƒë·ªÉ drilldown xem c√°c x√£/ph∆∞·ªùng
            </p>

            <div class="demo-section">
                <div class="card map-container">
                    <div class="breadcrumb" id="breadcrumb">
                        <span class="current">Vi·ªát Nam</span>
                    </div>
                    <div class="map-controls">
                        <button class="btn btn-outline" onclick="goToCountry()"
                            style="padding: 0.5rem 1rem; font-size: 0.75rem;">
                            ‚Ü© Reset
                        </button>
                    </div>
                    <div id="map"></div>
                    <div class="loading-overlay" id="loading">
                        <div class="spinner"></div>
                    </div>
                </div>

                <div class="sidebar">
                    <div class="card province-info" id="provinceInfo">
                        <h4 style="margin-bottom: 1rem; color: var(--text-muted);">üìç Selected Province</h4>
                        <div class="province-name" id="provinceName">-</div>
                        <div class="stat-row">
                            <span>Type</span>
                            <span id="provinceType">-</span>
                        </div>
                        <div class="stat-row">
                            <span>Communes</span>
                            <span id="provinceCommunes">-</span>
                        </div>
                        <div class="stat-row">
                            <span>Merged from</span>
                            <span id="provinceMerged">-</span>
                        </div>
                    </div>

                    <div class="card">
                        <h4 style="margin-bottom: 1rem;">‚ö° Quick Start</h4>
                        <div class="install-command">
                            <span>npm i @xdev-asia/vietnam-map-34-provinces</span>
                            <button onclick="copyInstall()" title="Copy">üìã</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Installation -->
        <section id="install">
            <h2>üì¶ Installation</h2>

            <div class="tabs">
                <button class="tab active" onclick="showTab('npm')">npm</button>
                <button class="tab" onclick="showTab('yarn')">yarn</button>
                <button class="tab" onclick="showTab('cdn')">CDN</button>
            </div>

            <div id="tab-npm" class="tab-content active">
                <pre><code class="language-bash">npm install @xdev-asia/vietnam-map-34-provinces highcharts</code></pre>
            </div>

            <div id="tab-yarn" class="tab-content">
                <pre><code class="language-bash">yarn add @xdev-asia/vietnam-map-34-provinces highcharts</code></pre>
            </div>

            <div id="tab-cdn" class="tab-content">
                <pre><code class="language-html">&lt;script src="https://code.highcharts.com/maps/highmaps.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/@xdev-asia/vietnam-map-34-provinces"&gt;&lt;/script&gt;</code></pre>
            </div>

            <h3>Basic Usage</h3>
            <pre><code class="language-javascript">import { createVietnamMap } from '@xdev-asia/vietnam-map-34-provinces/vanilla';

const map = createVietnamMap('#container', {
  drilldown: { enabled: true },
  onProvinceClick: (province) => console.log(province)
});</code></pre>
        </section>

        <!-- API Reference -->
        <section id="api">
            <h2>üìö API Reference</h2>

            <h3>Options</h3>
            <div class="card" style="overflow-x: auto;">
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>Option</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>drilldown</code></td>
                            <td>boolean | object</td>
                            <td>false</td>
                            <td>Enable drilldown to commune level</td>
                        </tr>
                        <tr>
                            <td><code>data</code></td>
                            <td>array</td>
                            <td>-</td>
                            <td>Custom data for provinces</td>
                        </tr>
                        <tr>
                            <td><code>colors</code></td>
                            <td>object</td>
                            <td>{ min, max, stops }</td>
                            <td>Color configuration</td>
                        </tr>
                        <tr>
                            <td><code>style</code></td>
                            <td>object</td>
                            <td>-</td>
                            <td>Map styling (borders, hover colors)</td>
                        </tr>
                        <tr>
                            <td><code>tooltip</code></td>
                            <td>object</td>
                            <td>-</td>
                            <td>Tooltip configuration</td>
                        </tr>
                        <tr>
                            <td><code>dataLabels</code></td>
                            <td>object</td>
                            <td>-</td>
                            <td>Label configuration</td>
                        </tr>
                        <tr>
                            <td><code>height</code></td>
                            <td>number | string</td>
                            <td>600</td>
                            <td>Chart height</td>
                        </tr>
                        <tr>
                            <td><code>onProvinceClick</code></td>
                            <td>function</td>
                            <td>-</td>
                            <td>Callback when clicking province</td>
                        </tr>
                        <tr>
                            <td><code>onCommuneClick</code></td>
                            <td>function</td>
                            <td>-</td>
                            <td>Callback when clicking commune</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Methods</h3>
            <div class="card" style="overflow-x: auto;">
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Arguments</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>zoomToProvince(id)</code></td>
                            <td>string</td>
                            <td>Zoom to specific province</td>
                        </tr>
                        <tr>
                            <td><code>drilldownTo(name)</code></td>
                            <td>string</td>
                            <td>Drilldown to province communes</td>
                        </tr>
                        <tr>
                            <td><code>drillUp()</code></td>
                            <td>-</td>
                            <td>Return to country view</td>
                        </tr>
                        <tr>
                            <td><code>updateData(data)</code></td>
                            <td>array</td>
                            <td>Update province data</td>
                        </tr>
                        <tr>
                            <td><code>resetZoom()</code></td>
                            <td>-</td>
                            <td>Reset zoom level</td>
                        </tr>
                        <tr>
                            <td><code>destroy()</code></td>
                            <td>-</td>
                            <td>Destroy map instance</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 34 Provinces -->
        <section id="provinces">
            <h2>üèõÔ∏è 34 Provinces (Ngh·ªã quy·∫øt 60-NQ/TW)</h2>

            <h3>23 Merged Provinces</h3>
            <div class="card" style="overflow-x: auto; margin-bottom: 2rem;">
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>New Province</th>
                            <th>Merged From</th>
                            <th>Communes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Tuy√™n Quang</td>
                            <td>Tuy√™n Quang + H√† Giang</td>
                            <td>336</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>L√†o Cai</td>
                            <td>L√†o Cai + Y√™n B√°i</td>
                            <td>344</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Th√°i Nguy√™n</td>
                            <td>B·∫Øc K·∫°n + Th√°i Nguy√™n</td>
                            <td>302</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Ph√∫ Th·ªç</td>
                            <td>Vƒ©nh Ph√∫c + Ph√∫ Th·ªç + H√≤a B√¨nh</td>
                            <td>624</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>B·∫Øc Ninh</td>
                            <td>B·∫Øc Ninh + B·∫Øc Giang</td>
                            <td>358</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>H∆∞ng Y√™n</td>
                            <td>H∆∞ng Y√™n + Th√°i B√¨nh</td>
                            <td>447</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>H·∫£i Ph√≤ng</td>
                            <td>H·∫£i D∆∞∆°ng + H·∫£i Ph√≤ng</td>
                            <td>489</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>Ninh B√¨nh</td>
                            <td>H√† Nam + Ninh B√¨nh + Nam ƒê·ªãnh</td>
                            <td>490</td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>Qu·∫£ng Tr·ªã</td>
                            <td>Qu·∫£ng B√¨nh + Qu·∫£ng Tr·ªã</td>
                            <td>301</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>ƒê√† N·∫µng</td>
                            <td>Qu·∫£ng Nam + ƒê√† N·∫µng</td>
                            <td>300</td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td>Qu·∫£ng Ng√£i</td>
                            <td>Kon Tum + Qu·∫£ng Ng√£i</td>
                            <td>286</td>
                        </tr>
                        <tr>
                            <td>12</td>
                            <td>Gia Lai</td>
                            <td>Gia Lai + B√¨nh ƒê·ªãnh</td>
                            <td>381</td>
                        </tr>
                        <tr>
                            <td>13</td>
                            <td>Kh√°nh H√≤a</td>
                            <td>Ninh Thu·∫≠n + Kh√°nh H√≤a</td>
                            <td>202</td>
                        </tr>
                        <tr>
                            <td>14</td>
                            <td>L√¢m ƒê·ªìng</td>
                            <td>L√¢m ƒê·ªìng + ƒê·∫Øk N√¥ng + B√¨nh Thu·∫≠n</td>
                            <td>345</td>
                        </tr>
                        <tr>
                            <td>15</td>
                            <td>ƒê·∫Øk L·∫Øk</td>
                            <td>ƒê·∫Øk L·∫Øk + Ph√∫ Y√™n</td>
                            <td>296</td>
                        </tr>
                        <tr>
                            <td>16</td>
                            <td>H·ªì Ch√≠ Minh</td>
                            <td>B√† R·ªãa-V≈©ng T√†u + B√¨nh D∆∞∆°ng + TP.HCM</td>
                            <td>495</td>
                        </tr>
                        <tr>
                            <td>17</td>
                            <td>ƒê·ªìng Nai</td>
                            <td>ƒê·ªìng Nai + B√¨nh Ph∆∞·ªõc</td>
                            <td>282</td>
                        </tr>
                        <tr>
                            <td>18</td>
                            <td>T√¢y Ninh</td>
                            <td>T√¢y Ninh + Long An</td>
                            <td>287</td>
                        </tr>
                        <tr>
                            <td>19</td>
                            <td>C·∫ßn Th∆°</td>
                            <td>C·∫ßn Th∆° + S√≥c TrƒÉng + H·∫≠u Giang</td>
                            <td>270</td>
                        </tr>
                        <tr>
                            <td>20</td>
                            <td>Vƒ©nh Long</td>
                            <td>B·∫øn Tre + Vƒ©nh Long + Tr√† Vinh</td>
                            <td>379</td>
                        </tr>
                        <tr>
                            <td>21</td>
                            <td>ƒê·ªìng Th√°p</td>
                            <td>Ti·ªÅn Giang + ƒê·ªìng Th√°p</td>
                            <td>317</td>
                        </tr>
                        <tr>
                            <td>22</td>
                            <td>C√† Mau</td>
                            <td>B·∫°c Li√™u + C√† Mau</td>
                            <td>165</td>
                        </tr>
                        <tr>
                            <td>23</td>
                            <td>An Giang</td>
                            <td>An Giang + Ki√™n Giang</td>
                            <td>301</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>11 Unchanged Provinces</h3>
            <div class="grid-4" style="font-size: 0.875rem;">
                <div class="card" style="padding: 1rem; text-align: center;">H√† N·ªôi (584)</div>
                <div class="card" style="padding: 1rem; text-align: center;">Hu·∫ø (152)</div>
                <div class="card" style="padding: 1rem; text-align: center;">Lai Ch√¢u (108)</div>
                <div class="card" style="padding: 1rem; text-align: center;">ƒêi·ªán Bi√™n (130)</div>
                <div class="card" style="padding: 1rem; text-align: center;">S∆°n La (204)</div>
                <div class="card" style="padding: 1rem; text-align: center;">L·∫°ng S∆°n (226)</div>
                <div class="card" style="padding: 1rem; text-align: center;">Qu·∫£ng Ninh (186)</div>
                <div class="card" style="padding: 1rem; text-align: center;">Thanh H√≥a (635)</div>
                <div class="card" style="padding: 1rem; text-align: center;">Ngh·ªá An (480)</div>
                <div class="card" style="padding: 1rem; text-align: center;">H√† Tƒ©nh (262)</div>
                <div class="card" style="padding: 1rem; text-align: center;">Cao B·∫±ng (199)</div>
            </div>
        </section>
    </div>

    <footer>
        <p>Made with ‚ù§Ô∏è by <a href="https://github.com/xdev-asia-labs">xdev-asia-labs</a></p>
        <p style="margin-top: 0.5rem;">
            <a href="https://github.com/xdev-asia-labs/vietnam-map-34-provinces">GitHub</a> ‚Ä¢
            <a href="https://www.npmjs.com/package/@xdev-asia/vietnam-map-34-provinces">npm</a> ‚Ä¢
            <a
                href="https://tulieuvankien.dangcongsan.vn/he-thong-van-ban/van-ban-cua-dang/nghi-quyet-so-60-nqtw-ngay-28112024-cua-bo-chinh-tri-ve-sap-xep-don-vi-hanh-chinh-cap-huyen-cap-xa-giai-doan-2026---2030-9797">Ngh·ªã
                quy·∫øt 60-NQ/TW</a>
        </p>
    </footer>

    <script>
        // Province data
        const PROVINCE_MAPPING = {
            "ha noi": "H√† N·ªôi", "ha tay": "H√† N·ªôi", "thua thien hue": "Hu·∫ø", "hue": "Hu·∫ø",
            "lai chau": "Lai Ch√¢u", "dien bien": "ƒêi·ªán Bi√™n", "son la": "S∆°n La",
            "lang son": "L·∫°ng S∆°n", "quang ninh": "Qu·∫£ng Ninh", "thanh hoa": "Thanh H√≥a",
            "nghe an": "Ngh·ªá An", "ha tinh": "H√† Tƒ©nh", "cao bang": "Cao B·∫±ng",
            "tuyen quang": "Tuy√™n Quang", "ha giang": "Tuy√™n Quang",
            "lao cai": "L√†o Cai", "yen bai": "L√†o Cai",
            "bac kan": "Th√°i Nguy√™n", "thai nguyen": "Th√°i Nguy√™n",
            "vinh phuc": "Ph√∫ Th·ªç", "phu tho": "Ph√∫ Th·ªç", "hoa binh": "Ph√∫ Th·ªç",
            "bac ninh": "B·∫Øc Ninh", "bac giang": "B·∫Øc Ninh",
            "hung yen": "H∆∞ng Y√™n", "thai binh": "H∆∞ng Y√™n",
            "hai duong": "H·∫£i Ph√≤ng", "hai phong": "H·∫£i Ph√≤ng",
            "ha nam": "Ninh B√¨nh", "ninh binh": "Ninh B√¨nh", "nam dinh": "Ninh B√¨nh",
            "quang binh": "Qu·∫£ng Tr·ªã", "quang tri": "Qu·∫£ng Tr·ªã",
            "quang nam": "ƒê√† N·∫µng", "da nang": "ƒê√† N·∫µng",
            "kon tum": "Qu·∫£ng Ng√£i", "quang ngai": "Qu·∫£ng Ng√£i",
            "gia lai": "Gia Lai", "binh dinh": "Gia Lai",
            "ninh thuan": "Kh√°nh H√≤a", "khanh hoa": "Kh√°nh H√≤a",
            "lam dong": "L√¢m ƒê·ªìng", "dak nong": "L√¢m ƒê·ªìng", "binh thuan": "L√¢m ƒê·ªìng",
            "dak lak": "ƒê·∫Øk L·∫Øk", "phu yen": "ƒê·∫Øk L·∫Øk",
            "ba ria - vung tau": "H·ªì Ch√≠ Minh", "binh duong": "H·ªì Ch√≠ Minh", "ho chi minh": "H·ªì Ch√≠ Minh",
            "dong nai": "ƒê·ªìng Nai", "binh phuoc": "ƒê·ªìng Nai",
            "tay ninh": "T√¢y Ninh", "long an": "T√¢y Ninh",
            "can tho": "C·∫ßn Th∆°", "soc trang": "C·∫ßn Th∆°", "hau giang": "C·∫ßn Th∆°",
            "ben tre": "Vƒ©nh Long", "vinh long": "Vƒ©nh Long", "tra vinh": "Vƒ©nh Long",
            "tien giang": "ƒê·ªìng Th√°p", "dong thap": "ƒê·ªìng Th√°p",
            "bac lieu": "C√† Mau", "ca mau": "C√† Mau",
            "an giang": "An Giang", "kien giang": "An Giang"
        };

        const PROVINCE_COMMUNES = {
            "An Giang": 301, "H·ªì Ch√≠ Minh": 495, "B·∫Øc Ninh": 358, "Th√°i Nguy√™n": 302,
            "C√† Mau": 165, "Vƒ©nh Long": 379, "Gia Lai": 381, "ƒê·ªìng Nai": 282,
            "L√¢m ƒê·ªìng": 345, "C·∫ßn Th∆°": 270, "Cao B·∫±ng": 199, "ƒê√† N·∫µng": 300,
            "ƒê·∫Øk L·∫Øk": 296, "ƒêi·ªán Bi√™n": 130, "ƒê·ªìng Th√°p": 317, "Tuy√™n Quang": 336,
            "Ninh B√¨nh": 490, "H√† N·ªôi": 584, "H√† Tƒ©nh": 262, "H·∫£i Ph√≤ng": 489,
            "Ph√∫ Th·ªç": 624, "H∆∞ng Y√™n": 447, "Kh√°nh H√≤a": 202, "Qu·∫£ng Ng√£i": 286,
            "Lai Ch√¢u": 108, "L·∫°ng S∆°n": 226, "L√†o Cai": 344, "T√¢y Ninh": 287,
            "Ngh·ªá An": 480, "Qu·∫£ng Tr·ªã": 301, "Qu·∫£ng Ninh": 186, "S∆°n La": 204,
            "Thanh H√≥a": 635, "Hu·∫ø": 152
        };

        function normalizeName(str) {
            if (!str) return "";
            return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/ƒë/g, "d").trim();
        }

        function getFilename(name) {
            return normalizeName(name).replace(/\s+/g, '-') + '.json';
        }

        let mainChart = null;
        let currentProvince = null;

        async function initMap() {
            showLoading(true);
            const response = await fetch('https://raw.githubusercontent.com/xdev-asia-labs/vietnam-map-34-provinces/main/src/core/assets/vn-all.geo.json');
            const topology = await response.json();

            const groupedFeatures = {};
            topology.features.forEach(f => {
                const originalName = f.properties.name;
                const normalized = normalizeName(originalName);
                let newName = PROVINCE_MAPPING[normalized] || originalName;
                const newId = `vn-new-${normalizeName(newName).replace(/\s+/g, '-')}`;
                if (!groupedFeatures[newId]) groupedFeatures[newId] = [];
                groupedFeatures[newId].push({ feature: f, newName, newId, originalName });
            });

            const mergedFeatures = Object.values(groupedFeatures).map(group => {
                const first = group[0];
                if (group.length === 1) {
                    return { ...first.feature, properties: { ...first.feature.properties, "hc-key": first.newId, name: first.newName, "original-names": [first.originalName] } };
                }
                const coords = [];
                group.forEach(item => {
                    const g = item.feature.geometry;
                    if (g.type === 'Polygon') coords.push(g.coordinates);
                    else if (g.type === 'MultiPolygon') coords.push(...g.coordinates);
                });
                return { type: "Feature", properties: { "hc-key": first.newId, name: first.newName, "original-names": group.map(x => x.originalName) }, geometry: { type: "MultiPolygon", coordinates: coords } };
            });

            const processedTopology = { ...topology, features: mergedFeatures };
            const mapData = mergedFeatures.map(f => ({
                "hc-key": f.properties["hc-key"], value: PROVINCE_COMMUNES[f.properties.name] || 100,
                name: f.properties.name, originalNames: f.properties["original-names"]
            }));

            mainChart = Highcharts.mapChart('map', {
                chart: { map: processedTopology, backgroundColor: 'transparent', height: 550 },
                title: { text: null }, credits: { enabled: false },
                mapNavigation: { enabled: true, enableDoubleClickZoom: true, buttonOptions: { verticalAlign: 'bottom' } },
                colorAxis: { min: 0, stops: [[0, '#E1F5FE'], [0.4, '#4FC3F7'], [1, '#01579B']] },
                tooltip: {
                    backgroundColor: 'rgba(15, 23, 42, 0.95)', borderColor: '#334155', style: { color: '#fff' }, useHTML: true,
                    headerFormat: '<div style="font-size:14px;font-weight:bold;margin-bottom:8px">{point.key}</div>',
                    pointFormat: '<div>X√£/Ph∆∞·ªùng: <b>{point.value}</b></div><div style="color:#22c55e;margin-top:8px;font-size:12px">üîç Click ƒë·ªÉ xem chi ti·∫øt</div>'
                },
                series: [{
                    type: 'map', data: mapData, joinBy: 'hc-key', borderColor: '#ffffff', borderWidth: 0.5, cursor: 'pointer',
                    states: { hover: { color: '#fbbf24', borderColor: '#d97706' } },
                    dataLabels: { enabled: true, format: '{point.name}', allowOverlap: false, style: { fontSize: '9px', fontWeight: '500', textOutline: '2px contrast', color: '#1e293b' } },
                    point: { events: { click: function () { drillDown(this.name); } } }
                }]
            });

            showLoading(false);
        }

        async function drillDown(provinceName) {
            showLoading(true);
            showProvinceInfo(provinceName);
            const filename = getFilename(provinceName);

            try {
                const response = await fetch(`https://raw.githubusercontent.com/xdev-asia-labs/vietnam-map-34-provinces/main/src/core/assets/provinces/${filename}`);
                const data = await response.json();

                currentProvince = provinceName;
                updateBreadcrumb();

                const communeData = data.features.map(f => ({
                    "hc-key": f.properties.GID_3, value: Math.floor(Math.random() * 100) + 10,
                    name: f.properties.NAME_3, type: f.properties.TYPE_3, district: f.properties.NAME_2
                }));

                mainChart.series[0].setData(communeData);
                mainChart.series[0].update({ mapData: data, joinBy: ['GID_3', 'hc-key'] });

            } catch (error) {
                console.error('Failed to load:', error);
            }

            showLoading(false);
        }

        window.goToCountry = async function () {
            currentProvince = null;
            updateBreadcrumb();
            document.getElementById('provinceInfo').classList.remove('active');
            await initMap();
        }

        function updateBreadcrumb() {
            const bc = document.getElementById('breadcrumb');
            bc.innerHTML = currentProvince
                ? `<span onclick="goToCountry()">Vi·ªát Nam</span> ‚Üí <span class="current">${currentProvince}</span>`
                : '<span class="current">Vi·ªát Nam</span>';
        }

        function showProvinceInfo(name) {
            const info = document.getElementById('provinceInfo');
            info.classList.add('active');
            document.getElementById('provinceName').textContent = name;
            document.getElementById('provinceType').textContent = ['H√† N·ªôi', 'H·ªì Ch√≠ Minh', 'ƒê√† N·∫µng', 'C·∫ßn Th∆°', 'H·∫£i Ph√≤ng', 'Hu·∫ø'].includes(name) ? 'Th√†nh ph·ªë' : 'T·ªânh';
            document.getElementById('provinceCommunes').textContent = (PROVINCE_COMMUNES[name] || 0).toLocaleString();
            const merged = Object.entries(PROVINCE_MAPPING).filter(([k, v]) => v === name).length;
            document.getElementById('provinceMerged').textContent = merged > 1 ? `${merged} t·ªânh c≈©` : 'Kh√¥ng h·ª£p nh·∫•t';
        }

        function showLoading(show) { document.getElementById('loading').classList.toggle('active', show); }

        function showTab(name) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelector(`[onclick="showTab('${name}')"]`).classList.add('active');
            document.getElementById('tab-' + name).classList.add('active');
        }

        function copyInstall() {
            navigator.clipboard.writeText('npm install @xdev-asia/vietnam-map-34-provinces');
            alert('Copied!');
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });

        initMap();
    </script>
</body>

</html>